<!doctype html>
<html lang="en">
  <head>
  <style>
  html, body {
    width: 100%;
    height: 100%;
  }

  .main-container {
    width: 100%;
    height: 50%;
    overflow: hidden;
  }

  .each-pos {
    display: inline-block;
    height: 95%;
    border: 1px solid red;
    overflow: hidden;
    margin-top: 1%;
  }

  .each-nucleotide-in-pos {
    width: 95%;
    border: 1px solid green;
    overflow: hidden;
  }
  </style>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  
  <script type="text/javascript">
  var readSequences = ["AGATCGACCCT","GGAACGACGCT","GGATCGACCCT","CGATAGACGCT","CGATAGACGCT","GGATCGACCCT"];

    var orderedSequences = [];
    var sequences = [];
    var nucletiodesGroupedByIndex = [];

    for (var x = 0; x < readSequences.length; x++) {
      sequences.push(readSequences[x].split(""));
    }

    var nucleotidesPerSequence = sequences[0].length;

    var tempArray;
    for (var x = 0; x < nucleotidesPerSequence; x++) {
      tempArray = [];
      for (var j = 0; j < sequences.length; j++) {
        tempArray.push(sequences[j][x]);
      }
      nucletiodesGroupedByIndex.push(tempArray);
    }

    var tempObj;
    for (var x = 0; x < nucletiodesGroupedByIndex.length; x++) {
      tempObj = {};
      for (var j = 0; j < nucletiodesGroupedByIndex[x].length; j++) {
        if ( !tempObj[ nucletiodesGroupedByIndex[x][j] ] ) tempObj[ nucletiodesGroupedByIndex[x][j] ] = 1;
        else tempObj[ nucletiodesGroupedByIndex[x][j] ]++;
      }
      orderedSequences.push(tempObj);
    }



    function getLenOfObject(obj) {
      var len = 0;
      for (var key in obj) len++;
      return len;
    }
   
  </script>
  </head>
  
  
  <body>
  
  <div class="main-container"><div>

  </body>
  


  <script>
    console.log(orderedSequences);
    var mainSel = d3.select(".main-container").selectAll("p");
    var eachPos = mainSel.data(orderedSequences).enter().append("div").attr("class","each-pos").style("width", Math.floor( (100/ orderedSequences.length)-2 ) + "%");
    var eachNucleotideWithinPos = eachPos.selectAll("p").data( function(d,i) { return d3.entries(d); }  ).enter().append("div").attr("class","each-nucleotide-in-pos").style("height", "33" + "%" ).style("font-size", function(d,i) { return  +d.value/readSequences.length; } + "%" ).text(function(d) { return d.key; });


  </script>
</html>